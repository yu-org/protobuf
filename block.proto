syntax = "proto3";

option go_package = "./goproto";
import "txn.proto";

message Block {
    CompactBlock CompactBlock = 1;
    SignedTxns Txns = 2;
}

message CompactBlock {
    Header Header = 1;
    repeated bytes TxnsHashes = 2;
}

message Header {
    bytes Hash = 1;
    bytes PrevHash = 2;
    uint64 Height = 3;

    bytes TxnRoot = 4;
    bytes StateRoot = 5;

    uint64 Timestamp = 6;
    string PeerID = 7;

    uint64 LeiLimit = 8;
    uint64 LeiUsed = 9;

    bytes Pubkey = 10;
    bytes Signature = 11;

    Validators Validators = 12;

    bytes ProofBlockHash = 13;
    uint64 ProofHeight = 14;
    bytes Proof = 15;

    uint64 Nonce = 16;
    uint64 Difficulty = 17;

    bytes Extra = 18;
}

message Validators {
    repeated Validator Validators = 1;
}

message Validator {
    bytes PubKey = 1;
    uint64 ProposeWeight = 2;
    uint64 VoteWeight = 3;
}